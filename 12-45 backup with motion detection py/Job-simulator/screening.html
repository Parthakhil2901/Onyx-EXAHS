<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOB Verse - Screening Test</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="screening.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="dark-mode">
    <header>
        <nav>
            <a href="#" class="logo">JOB Verse</a>
            <div class="nav-links">
                <span id="userEmail"></span>
                <button id="logoutBtn" class="logout-btn">Logout</button>
            </div>
        </nav>
    </header>

    <main class="screening-container">
        <div class="quiz-section">
            <h1>Technical Screening</h1>
            <div id="quiz-container">
                <div id="domain-selection" class="quiz-card">
                    <h2>Select Your Skill</h2>
                    <select id="testSkill">
                        <option value="">Choose Skill</option>
                        <option value="dsa">DSA (Data Structures & Algorithms)</option>
                        <option value="full-stack-development">Full Stack Development</option>
                    </select>
                    <button id="startTest" class="cta-button">Start Test</button>
                </div>

                <div id="quiz-content" class="quiz-card" style="display: none;">
                    <div id="quiz-header">
                        <h2 id="quiz-title"></h2>
                        <div id="timer"></div>
                    </div>
                    <div id="question-container">
                        <p id="question-text"></p>
                        <div id="options-container" class="options-grid">
                            <!-- Options will be inserted here -->
                        </div>
                    </div>
                    <button id="submitAnswer" class="cta-button">Next Question</button>
                </div>

                <div id="results" class="quiz-card" style="display: none;">
                    <h2>Test Results</h2>
                    <div class="score-container">
                        <div class="score-circle">
                            <span id="score">0</span>
                            <span class="score-label">Score</span>
                        </div>
                    </div>
                    <div id="score-breakdown">
                        <p>Correct Answers: <span id="correct-answers">0</span></p>
                        <p>Total Questions: <span id="total-questions">0</span></p>
                    </div>
                    <button id="retakeTest" class="cta-button">Retake Test</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Success Modal -->
    <div class="modal-overlay"></div>
    <div class="success-modal">
        <h2>Congratulations! ðŸŽ‰</h2>
        <p>You've successfully passed the screening test. You'll be starting your job from now!</p>
        <button onclick="goToDashboard()">Go to Dashboard</button>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>

    <!-- Firebase Configuration -->
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyByE-IoxarDhlLKwLn4K1N3y0Swy2-hVxE",
            authDomain: "job-verse-c35ff.firebaseapp.com",
            databaseURL: "https://job-verse-c35ff-default-rtdb.firebaseio.com",
            projectId: "job-verse-c35ff",
            storageBucket: "job-verse-c35ff.firebasestorage.app",
            messagingSenderId: "313840143364",
            appId: "1:313840143364:web:7de4898b589edbff54b951",
            measurementId: "G-F1VGQ7ELLW"
        };

        try {
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            const analytics = firebase.analytics();
            const auth = firebase.auth();
            const db = firebase.firestore();

            // Make Firebase instances available globally
            window.db = db;
            window.auth = auth;
            window.analytics = analytics;

            console.log('Firebase initialized successfully in screening page');
        } catch (error) {
            console.error('Error initializing Firebase in screening page:', error);
        }
    </script>
    <script type="module" src="screening.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Editor IDE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* ... (keeping existing styles) ... */
        :root {
            --primary-dark: #00ffd5;
            --secondary-dark: #6c2bd9;
            --bg-dark: #0a0b1a;
            --card-dark: #151628;
            --text-dark: #ffffff;
            --border-color: rgba(255, 255, 255, 0.1);
            --editor-bg: #1e1e1e;
            --editor-line: #2d2d2d;
            --success-green: #38FF88;
            --error-red: #FF3860;
        }

        /* Resizer styles */
        .vertical-resizer {
            width: 5px;
            cursor: ew-resize;
            background-color: rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 10;
        }

        .horizontal-resizer {
            height: 5px;
            cursor: ns-resize;
            background-color: rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 10;
        }

        /* Collapsible menu bar */
        .menu-bar {
            background: var(--card-dark);
            padding: 0.5rem 1rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            user-select: none;
        }

        .menu-toggle-btn {
            background: linear-gradient(45deg, var(--primary-dark), var(--secondary-dark));
            border: none;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: background 0.3s ease;
        }

        .menu-toggle-btn:hover {
            background: linear-gradient(45deg, var(--secondary-dark), var(--primary-dark));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background-color: var(--card-dark);
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .problem-selector {
            background: var(--card-dark);
            color: var(--text-dark);
            border: 1px solid var(--border-color);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            width: 400px;
        }

        .main-container {
            display: flex;
            margin-top: 60px;
            height: calc(100vh - 60px);
            overflow: hidden;
        }

        .problem-panel {
            width: 40%;
            background: var(--card-dark);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding: 2rem;
            transition: width 0.3s ease;
        }

        .problem-panel.collapsed {
            width: 0;
            padding: 0;
            border: none;
            overflow: hidden;
        }

        .editor-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--editor-bg);
            transition: width 0.3s ease;
        }

        .editor-header {
            padding: 1rem;
            background: var(--card-dark);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-actions {
            display: flex;
            gap: 1rem;
        }

        .run-button {
            background: linear-gradient(45deg, var(--primary-dark), var(--secondary-dark));
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform 0.2s;
        }

        .run-button:hover {
            transform: translateY(-1px);
        }

        .code-area,
        .input-area {
            flex: 1;
            width: 100%;
            background: var(--editor-bg);
            color: var(--text-dark);
            border: none;
            padding: 1rem;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
        }

        .input-area {
            height: 100px;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
        }

        .output-panel {
            height: 200px;
            background: var(--card-dark);
            border-top: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: height 0.3s ease;
        }

        .output-header {
            padding: 0.5rem 1rem;
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .output-header h3 {
            font-size: 0.9rem;
            color: var(--primary-dark);
        }

        .input-toggle label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-dark);
            font-size: 0.9rem;
            cursor: pointer;
        }

        .input-toggle input[type="checkbox"] {
            cursor: pointer;
            width: 16px;
            height: 16px;
            accent-color: var(--primary-dark);
        }

        .output-content {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        .vertical-resizer {
            width: 5px;
            cursor: ew-resize;
            background-color: rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 10;
        }

        .horizontal-resizer {
            height: 5px;
            cursor: ns-resize;
            background-color: rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 10;
        }

        <body>
            <header class="header">
                <div class="header-content">
                    <select id="problemSelector" class="problem-selector">
                        <option value="1">🔹 1. Smart Contact Autocomplete using Trie Logic</option>
                        <option value="2">🔹 2. Unique Character Validator with HashSet</option>
                        <option value="3">🔹 3. Bracket Balance Checker using Stack</option>
                        <option value="4">🔹 4. Sorted Array Merger using Two-Pointer Technique</option>
                        <option value="5">🔹 5. Top-K Frequent Elements using Heap</option>
                        <option value="6">🔹 6. Directed Graph Cycle Detector using DFS</option>
                        <option value="7">🔹 7. Mini LRU Cache using OrderedDict</option>
                    </select>
                    <div class="theme-toggle">
                        <button id="themeToggle">
                            <i class="fas fa-moon"></i>
                            <i class="fas fa-sun"></i>
                        </button>
                    </div>
                </div>
            </header>

            <div class="menu-bar">
                <button id="menuToggleBtn" class="menu-toggle-btn">Toggle Menu</button>
            </div>

            <div class="main-container" id="mainContainer">
                <div class="problem-panel" id="problemPanel">
                    <div class="problem-content">
                        <div class="problem-header">
                            <h1 id="problemTitle" class="problem-title"></h1>
                            <div id="problemDescription" class="problem-description"></div>
                        </div>

                        <div class="sample-io">
                            <h3>Example Input/Output</h3>
                            <div id="sampleIO" class="io-content"></div>
                        </div>

                        <div class="test-cases">
                            <h3>Test Cases</h3>
                            <div id="testCasesList"></div>
                        </div>

                        <div class="action-buttons">
                            <button class="submit-button" onclick="verifyAllTestCases()">
                                <i class="fas fa-check-circle"></i>
                                Submit Solution
                            </button>
                            <button class="show-solution-button" onclick="showSolution()">
                                <i class="fas fa-lightbulb"></i>
                                Show Solution
                            </button>
                        </div>
                    </div>
                </div>

                <div class="vertical-resizer" id="verticalResizer"></div>

                <div class="editor-panel" id="editorPanel">
                    <div class="editor-header">
                        <div class="language-selector">
                            <select class="problem-selector">
                                <option value="python">Python</option>
                                <option value="javascript">JavaScript</option>
                                <option value="java">Java</option>
                            </select>
                        </div>
                        <div class="editor-actions">
                            <button class="run-button" onclick="runCode()">
                                <i class="fas fa-play"></i>
                                Run Code
                            </button>
                            <button class="run-button" onclick="runCodeWithInput()">
                                <i class="fas fa-terminal"></i>
                                Run with Input
                            </button>
                        </div>
                    </div>

                    <textarea id="codeArea" class="code-area" spellcheck="false"></textarea>

                    <div class="horizontal-resizer" id="horizontalResizer"></div>

                    <div class="output-panel" id="outputPanel">
                        <div class="output-header">
                            <h3>Output</h3>
                            <div class="input-toggle">
                                <label>
                                    <input type="checkbox" id="showInput"> Show Custom Input
                                </label>
                            </div>
                        </div>
                        <div class="output-content">
                            <div id="inputSection" style="display: none;">
                                <textarea id="inputArea" class="input-area" placeholder="Enter your input values here..."></textarea>
                            </div>
                            <div id="outputArea"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Solution Modal -->
            <div id="solutionModal" class="solution-modal">
                <div class="solution-content">
                    <div class="solution-header">
                        <h2>Solution</h2>
                        <button class="close-solution" onclick="closeSolution()">&times;</button>
                    </div>
                    <div class="solution-code" id="solutionCode"></div>
                    <div class="solution-explanation" id="solutionExplanation"></div>
                </div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    // Initialize elements
                    const problemSelector = document.getElementById('problemSelector');
                    const problemTitle = document.getElementById('problemTitle');
                    const problemDescription = document.getElementById('problemDescription');
                    const sampleIO = document.getElementById('sampleIO');
                    const codeArea = document.getElementById('codeArea');
                    const outputArea = document.getElementById('outputArea');
                    const inputArea = document.getElementById('inputArea');
                    const showInput = document.getElementById('showInput');
                    const inputSection = document.getElementById('inputSection');
                    const problemPanel = document.getElementById('problemPanel');
                    const editorPanel = document.getElementById('editorPanel');
                    const outputPanel = document.getElementById('outputPanel');
                    const verticalResizer = document.getElementById('verticalResizer');
                    const horizontalResizer = document.getElementById('horizontalResizer');
                    const menuToggleBtn = document.getElementById('menuToggleBtn');
                    const mainContainer = document.getElementById('mainContainer');

                    // Load saved sizes from localStorage
                    let savedProblemWidth = localStorage.getItem('problemPanelWidth');
                    let savedOutputHeight = localStorage.getItem('outputPanelHeight');
                    let menuCollapsed = localStorage.getItem('menuCollapsed') === 'true';

                    if (savedProblemWidth) {
                        problemPanel.style.width = savedProblemWidth + 'px';
                    }

                    if (savedOutputHeight) {
                        outputPanel.style.height = savedOutputHeight + 'px';
                    }

                    if (menuCollapsed) {
                        problemPanel.classList.add('collapsed');
                        menuToggleBtn.textContent = 'Show Menu';
                    }

                    // Vertical resizer drag
                    verticalResizer.addEventListener('mousedown', (e) => {
                        e.preventDefault();
                        document.body.style.cursor = 'ew-resize';

                        function onMouseMove(e) {
                            let newWidth = e.clientX;
                            if (newWidth < 100) newWidth = 100;
                            if (newWidth > window.innerWidth - 200) newWidth = window.innerWidth - 200;
                            problemPanel.style.width = newWidth + 'px';
                            localStorage.setItem('problemPanelWidth', newWidth);
                        }

                        function onMouseUp() {
                            document.body.style.cursor = 'default';
                            window.removeEventListener('mousemove', onMouseMove);
                            window.removeEventListener('mouseup', onMouseUp);
                        }

                        window.addEventListener('mousemove', onMouseMove);
                        window.addEventListener('mouseup', onMouseUp);
                    });

                    // Horizontal resizer drag
                    horizontalResizer.addEventListener('mousedown', (e) => {
                        e.preventDefault();
                        document.body.style.cursor = 'ns-resize';

                        function onMouseMove(e) {
                            let newHeight = window.innerHeight - e.clientY;
                            if (newHeight < 100) newHeight = 100;
                            if (newHeight > window.innerHeight - 100) newHeight = window.innerHeight - 100;
                            outputPanel.style.height = newHeight + 'px';
                            localStorage.setItem('outputPanelHeight', newHeight);
                        }

                        function onMouseUp() {
                            document.body.style.cursor = 'default';
                            window.removeEventListener('mousemove', onMouseMove);
                            window.removeEventListener('mouseup', onMouseUp);
                        }

                        window.addEventListener('mousemove', onMouseMove);
                        window.addEventListener('mouseup', onMouseUp);
                    });

                    // Menu toggle button
                    menuToggleBtn.addEventListener('click', () => {
                        problemPanel.classList.toggle('collapsed');
                        if (problemPanel.classList.contains('collapsed')) {
                            menuToggleBtn.textContent = 'Show Menu';
                            localStorage.setItem('menuCollapsed', 'true');
                        } else {
                            menuToggleBtn.textContent = 'Hide Menu';
                            localStorage.setItem('menuCollapsed', 'false');
                        }
                    });

                    // Initialize menu toggle button text
                    if (!menuCollapsed) {
                        menuToggleBtn.textContent = 'Hide Menu';
                    }

                    // Show/hide input section
                    showInput.addEventListener('change', () => {
                        inputSection.style.display = showInput.checked ? 'block' : 'none';
                    });

                    // Update problem content when selected
                    problemSelector.addEventListener('change', () => {
                        const problem = problems[problemSelector.value];
                        problemTitle.textContent = problem.title;
                        problemDescription.textContent = problem.description;
                        sampleIO.innerHTML = `
                            <strong>Sample Input:</strong><br>
                            ${problem.testCases[0].input.split('\n').join('<br>')}<br><br>
                            <strong>Expected Output:</strong><br>
                            ${problem.testCases[0].expectedOutput}
                        `;
                        codeArea.value = `# ${problem.title}\n# ${problem.description}\n\n# Write your code here\n\n`;
                        outputArea.innerHTML = '';
                        inputArea.value = '';
                        updateTestCases();
                    });

                    // Initialize with first problem
                    problemSelector.dispatchEvent(new Event('change'));

                    // Other existing functions unchanged...
                });
            </script>
        </body>
        </html>

        .problem-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .problem-header {
            margin-bottom: 2rem;
        }

        .problem-title {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary-dark), var(--secondary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .problem-description {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        .sample-io {
            background: var(--editor-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .sample-io h3 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .io-content {
            font-family: 'Consolas', monospace;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
        }

        .editor-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--editor-bg);
        }

        .editor-header {
            padding: 1rem;
            background: var(--card-dark);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-actions {
            display: flex;
            gap: 1rem;
        }

        .run-button {
            background: linear-gradient(45deg, var(--primary-dark), var(--secondary-dark));
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform 0.2s;
        }

        .run-button:hover {
            transform: translateY(-1px);
        }

        .code-area,
        .input-area {
            flex: 1;
            width: 100%;
            background: var(--editor-bg);
            color: var(--text-dark);
            border: none;
            padding: 1rem;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
        }

        .input-area {
            height: 100px;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
        }

        .output-panel {
            height: 200px;
            background: var(--card-dark);
            border-top: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .output-header {
            padding: 0.5rem 1rem;
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .output-header h3 {
            font-size: 0.9rem;
            color: var(--primary-dark);
        }

        .input-toggle label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-dark);
            font-size: 0.9rem;
            cursor: pointer;
        }

        .input-toggle input[type="checkbox"] {
            cursor: pointer;
            width: 16px;
            height: 16px;
            accent-color: var(--primary-dark);
        }

        .output-content {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        .verification-status {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }

        .test-status {
            font-size: 15px;
            color: var(--text-dark);
            margin: 0.5rem 0;
        }

        .test-pass {
            font-size: 15px;
            color: var(--success-green);
            font-weight: 500;
            margin: 0.5rem 0;
        }

        .test-fail {
            font-size: 15px;
            color: var(--error-red);
            font-weight: 500;
            margin: 0.5rem 0;
        }

        .test-details {
            font-family: 'Consolas', monospace;
            background: rgba(0, 0, 0, 0.2);
            padding: 0.5rem;
            border-radius: 4px;
            margin: 0.5rem 0;
        }

        .test-error {
            color: var(--error-red);
            font-style: italic;
            margin: 0.5rem 0;
        }

        .success-message {
            font-size: 20px;
            font-weight: 600;
            color: var(--success-green);
            text-align: center;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(56, 255, 136, 0.1);
            border-radius: 8px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--primary-dark);
            animation: fall 5s linear forwards;
            z-index: 1000;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .test-cases {
            background: var(--editor-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .test-case {
            background: var(--card-dark);
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .test-case-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .test-case-content {
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
        }

        .solution-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }

        .solution-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-dark);
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .solution-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .solution-code {
            background: var(--editor-bg);
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Consolas', monospace;
            white-space: pre-wrap;
            margin-bottom: 1rem;
        }

        .solution-explanation {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        .close-solution {
            background: none;
            border: none;
            color: var(--text-dark);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .submit-button {
            background: linear-gradient(45deg, var(--success-green), var(--primary-dark));
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .show-solution-button {
            background: linear-gradient(45deg, var(--secondary-dark), var(--primary-dark));
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <select id="problemSelector" class="problem-selector">
                <option value="1">🔹 1. Smart Contact Autocomplete using Trie Logic</option>
                <option value="2">🔹 2. Unique Character Validator with HashSet</option>
                <option value="3">🔹 3. Bracket Balance Checker using Stack</option>
                <option value="4">🔹 4. Sorted Array Merger using Two-Pointer Technique</option>
                <option value="5">🔹 5. Top-K Frequent Elements using Heap</option>
                <option value="6">🔹 6. Directed Graph Cycle Detector using DFS</option>
                <option value="7">🔹 7. Mini LRU Cache using OrderedDict</option>
            </select>
            <div class="theme-toggle">
                <button id="themeToggle">
                    <i class="fas fa-moon"></i>
                    <i class="fas fa-sun"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="main-container">
        <div class="problem-panel">
            <div class="problem-content">
                <div class="problem-header">
                    <h1 id="problemTitle" class="problem-title"></h1>
                    <div id="problemDescription" class="problem-description"></div>
                </div>
                
                <div class="sample-io">
                    <h3>Example Input/Output</h3>
                    <div id="sampleIO" class="io-content"></div>
                </div>

                <div class="test-cases">
                    <h3>Test Cases</h3>
                    <div id="testCasesList"></div>
                </div>

                <div class="action-buttons">
                    <button class="submit-button" onclick="verifyAllTestCases()">
                        <i class="fas fa-check-circle"></i>
                        Submit Solution
                    </button>
                    <button class="show-solution-button" onclick="showSolution()">
                        <i class="fas fa-lightbulb"></i>
                        Show Solution
                    </button>
                </div>
            </div>
        </div>

        <div class="editor-panel">
            <div class="editor-header">
                <div class="language-selector">
                    <select class="problem-selector">
                        <option value="python">Python</option>
                        <option value="javascript">JavaScript</option>
                        <option value="java">Java</option>
                    </select>
                </div>
                <div class="editor-actions">
                    <button class="run-button" onclick="runCode()">
                        <i class="fas fa-play"></i>
                        Run Code
                    </button>
                    <button class="run-button" onclick="runCodeWithInput()">
                        <i class="fas fa-terminal"></i>
                        Run with Input
                    </button>
                </div>
            </div>

            <textarea id="codeArea" class="code-area" spellcheck="false"></textarea>

            <div class="output-panel">
                <div class="output-header">
                    <h3>Output</h3>
                    <div class="input-toggle">
                        <label>
                            <input type="checkbox" id="showInput"> Show Custom Input
                        </label>
                    </div>
                </div>
                <div class="output-content">
                    <div id="inputSection" style="display: none;">
                        <textarea id="inputArea" class="input-area" placeholder="Enter your input values here..."></textarea>
                    </div>
                    <div id="outputArea"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Solution Modal -->
    <div id="solutionModal" class="solution-modal">
        <div class="solution-content">
            <div class="solution-header">
                <h2>Solution</h2>
                <button class="close-solution" onclick="closeSolution()">&times;</button>
            </div>
            <div class="solution-code" id="solutionCode"></div>
            <div class="solution-explanation" id="solutionExplanation"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize elements
            const problemSelector = document.getElementById('problemSelector');
            const problemTitle = document.getElementById('problemTitle');
            const problemDescription = document.getElementById('problemDescription');
            const sampleIO = document.getElementById('sampleIO');
            const codeArea = document.getElementById('codeArea');
            const outputArea = document.getElementById('outputArea');
            const inputArea = document.getElementById('inputArea');
            const showInput = document.getElementById('showInput');
            const inputSection = document.getElementById('inputSection');

            const problems = {
                1: {
                    title: "Smart Contact Autocomplete using Trie Logic",
                    description: "Implement a function that takes a list of contacts and a search query, and returns all contacts that start with the query.",
                    testCases: [
                        {
                            input: "priya,prithika,preethi,prakash\npri",
                            expectedOutput: "['priya', 'prithika']"
                        },
                        {
                            input: "priya,prithika,preethi,prakash\npre",
                            expectedOutput: "['preethi']"
                        },
                        {
                            input: "priya,prithika,preethi,prakash\npra",
                            expectedOutput: "['prakash']"
                        }
                    ],
                    solution: {
                        code: `class TrieNode:
    def __init__(self):
        self.children = {}
        self.is_end = False
        self.word = ''

class Trie:
    def __init__(self):
        self.root = TrieNode()
    
    def insert(self, word):
        node = self.root
        for char in word:
            if char not in node.children:
                node.children[char] = TrieNode()
            node = node.children[char]
        node.is_end = True
        node.word = word
    
    def search_prefix(self, prefix):
        node = self.root
        for char in prefix:
            if char not in node.children:
                return []
            node = node.children[char]
        
        results = []
        self._dfs(node, results)
        return results
    
    def _dfs(self, node, results):
        if node.is_end:
            results.append(node.word)
        for child in node.children.values():
            self._dfs(child, results)

def autocomplete(contacts, query):
    trie = Trie()
    for contact in contacts:
        trie.insert(contact)
    return trie.search_prefix(query)

# Get input
contacts = input().split(',')
query = input()

# Process and print output
result = autocomplete(contacts, query)
print(result)`,
                        explanation: `This solution uses a Trie (prefix tree) data structure for efficient prefix searching.`
                    }
                },
                2: {
                    title: "Unique Character Validator with HashSet",
                    description: "Implement a function that checks if all characters in a string are unique.",
                    testCases: [
                        {
                            input: "abcdefg",
                            expectedOutput: "True"
                        },
                        {
                            input: "abcdefga",
                            expectedOutput: "False"
                        },
                        {
                            input: "aabbccdd",
                            expectedOutput: "False"
                        }
                    ],
                    solution: {
                        code: `def has_unique_chars(s):
    seen = set()
    for char in s:
        if char in seen:
            return False
        seen.add(char)
    return True

# Get input
s = input().strip()

# Process and print output
result = has_unique_chars(s)
print(result)`,
                        explanation: `Uses a HashSet to track seen characters with O(n) time complexity.`
                    }
                },
                3: {
                    title: "Bracket Balance Checker using Stack",
                    description: "Implement a function that checks if a string of brackets is balanced.",
                    testCases: [
                        {
                            input: "({[]})",
                            expectedOutput: "True"
                        },
                        {
                            input: "({[})",
                            expectedOutput: "False"
                        },
                        {
                            input: "((()))",
                            expectedOutput: "True"
                        }
                    ],
                    solution: {
                        code: `def is_balanced(s):
    stack = []
    pairs = {')': '(', '}': '{', ']': '['}
    
    for char in s:
        if char in '({[':
            stack.append(char)
        elif char in ')}]':
            if not stack or stack.pop() != pairs[char]:
                return False
    
    return len(stack) == 0

# Get input
s = input().strip()

# Process and print output
result = is_balanced(s)
print(result)`,
                        explanation: `Uses a stack to track opening brackets and match with closing ones.`
                    }
                },
                4: {
                    title: "Sorted Array Merger using Two-Pointer Technique",
                    description: "Implement a function that merges two sorted arrays into one sorted array.",
                    testCases: [
                        {
                            input: "1 3 5\n2 4 6",
                            expectedOutput: "[1, 2, 3, 4, 5, 6]"
                        },
                        {
                            input: "1 2 3\n4 5 6",
                            expectedOutput: "[1, 2, 3, 4, 5, 6]"
                        },
                        {
                            input: "1 1 1\n2 2 2",
                            expectedOutput: "[1, 1, 1, 2, 2, 2]"
                        }
                    ],
                    solution: {
                        code: `def merge_sorted_arrays(arr1, arr2):
    merged = []
    i = j = 0
    
    while i < len(arr1) and j < len(arr2):
        if arr1[i] <= arr2[j]:
            merged.append(arr1[i])
            i += 1
        else:
            merged.append(arr2[j])
            j += 1
    
    merged.extend(arr1[i:])
    merged.extend(arr2[j:])
    return merged

# Get input
arr1 = list(map(int, input().split()))
arr2 = list(map(int, input().split()))

# Process and print output
result = merge_sorted_arrays(arr1, arr2)
print(result)`,
                        explanation: `Uses two pointers to merge arrays in O(n+m) time complexity.`
                    }
                },
                5: {
                    title: "Top-K Frequent Elements using Heap",
                    description: "Implement a function that returns the k most frequent elements in an array.",
                    testCases: [
                        {
                            input: "1 1 1 2 2 3\n2",
                            expectedOutput: "[1, 2]"
                        },
                        {
                            input: "1 2 2 3 3 3\n1",
                            expectedOutput: "[3]"
                        },
                        {
                            input: "5 5 5 2 2 1\n2",
                            expectedOutput: "[5, 2]"
                        }
                    ],
                    solution: {
                        code: `from collections import Counter
import heapq

def top_k_frequent(nums, k):
    # Count frequency of each number
    count = Counter(nums)
    
    # Use heap to get k most frequent
    return heapq.nlargest(k, count.keys(), key=count.get)

# Get input
nums = list(map(int, input().split()))
k = int(input())

# Process and print output
result = top_k_frequent(nums, k)
print(result)`,
                        explanation: `Uses Counter and heap for O(n log k) time complexity.`
                    }
                }
                // Add other problems here
            };

            async function verifyTestCase(code, input, expectedOutput) {
                try {
                    // Local execution simulation
                    const result = simulateCodeExecution(code, input);
                    
                    return {
                        passed: result.trim() === expectedOutput.trim(),
                        actual: result.trim(),
                        expected: expectedOutput.trim(),
                        error: null
                    };
                } catch (error) {
                    return {
                        passed: false,
                        error: error.message
                    };
                }
            }

            function simulateCodeExecution(code, input) {
                // For the contact autocomplete problem
                if (code.includes('autocomplete') || code.includes('search_prefix')) {
                    const [contacts, query] = input.split('\n');
                    const contactList = contacts.split(',');
                    const result = contactList.filter(contact => contact.trim().startsWith(query.trim()));
                    // Convert to Python-style string representation with single quotes
                    return `[${result.map(s => `'${s.trim()}'`).join(', ')}]`;
                }
                
                // For unique character validator
                if (code.includes('unique_character') || code.includes('has_unique')) {
                    const str = input.trim();
                    const seen = new Set();
                    for (const char of str) {
                        if (seen.has(char)) return "False";
                        seen.add(char);
                    }
                    return "True";
                }

                // For bracket balance checker
                if (code.includes('bracket') || code.includes('balance')) {
                    const str = input.trim();
                    const stack = [];
                    const pairs = { '(': ')', '[': ']', '{': '}' };
                    for (const char of str) {
                        if ('([{'.includes(char)) {
                            stack.push(char);
                        } else if (')]}'.includes(char)) {
                            if (!stack.length || pairs[stack.pop()] !== char) {
                                return "False";
                            }
                        }
                    }
                    return stack.length === 0 ? "True" : "False";
                }

                // For sorted array merger
                if (code.includes('merge') || code.includes('sorted_array')) {
                    const [arr1, arr2] = input.split('\n').map(line => 
                        line.split(' ').map(Number));
                    const merged = [];
                    let i = 0, j = 0;
                    while (i < arr1.length && j < arr2.length) {
                        if (arr1[i] <= arr2[j]) {
                            merged.push(arr1[i++]);
                        } else {
                            merged.push(arr2[j++]);
                        }
                    }
                    merged.push(...arr1.slice(i), ...arr2.slice(j));
                    // Convert to Python-style array representation
                    return `[${merged.join(', ')}]`;
                }

                // For top-k frequent elements
                if (code.includes('top_k') || code.includes('frequent')) {
                    const [nums, k] = input.split('\n');
                    const freq = {};
                    nums.split(' ').forEach(num => {
                        freq[num] = (freq[num] || 0) + 1;
                    });
                    const result = Object.entries(freq)
                        .sort((a, b) => b[1] - a[1])
                        .slice(0, parseInt(k))
                        .map(([num]) => parseInt(num));
                    // Convert to Python-style array representation
                    return `[${result.join(', ')}]`;
                }

                // Default response
                return "Simulation: Code execution successful";
            }

            // Add confetti animation
            function createConfetti() {
                const colors = ['#00ffd5', '#6c2bd9', '#ffffff'];
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 5000);
                }
            }

            async function verifyAllTestCases() {
                const code = codeArea.value;
                const problem = problems[problemSelector.value];
                outputArea.innerHTML = '<div class="verification-status">Verifying solution...</div>\n\n';

                let allPassed = true;
                for (let i = 0; i < problem.testCases.length; i++) {
                    const testCase = problem.testCases[i];
                    outputArea.innerHTML += `<div class="test-status">Testing Case ${i + 1}...</div>`;
                    
                    const result = await verifyTestCase(code, testCase.input, testCase.expectedOutput);
                    
                    if (result.passed) {
                        outputArea.innerHTML += `<div class="test-pass">✅ Test Case ${i + 1} Passed</div>\n\n`;
                    } else {
                        allPassed = false;
                        outputArea.innerHTML += `<div class="test-fail">❌ Test Case ${i + 1} Failed</div>\n`;
                        outputArea.innerHTML += `<div class="test-details">Expected: ${testCase.expectedOutput}\n`;
                        outputArea.innerHTML += `Got: ${result.actual || ''}</div>\n`;
                        if (result.error) {
                            outputArea.innerHTML += `<div class="test-error">Error: ${result.error}</div>\n`;
                        }
                        outputArea.innerHTML += '\n';
                    }
                }

                if (allPassed) {
                    outputArea.innerHTML += '<div class="success-message">🎉 Congratulations! All test cases passed! 🎉</div>\n';
                    createConfetti();
                }
            }

            function showSolution() {
                const problem = problems[problemSelector.value];
                document.getElementById('solutionCode').textContent = problem.solution.code;
                document.getElementById('solutionExplanation').innerHTML = problem.solution.explanation;
                document.getElementById('solutionModal').style.display = 'block';
            }

            function closeSolution() {
                document.getElementById('solutionModal').style.display = 'none';
            }

            function updateTestCases() {
                const problem = problems[problemSelector.value];
                const testCasesList = document.getElementById('testCasesList');
                testCasesList.innerHTML = '';

                problem.testCases.forEach((testCase, index) => {
                    const testCaseElement = document.createElement('div');
                    testCaseElement.className = 'test-case';
                    testCaseElement.innerHTML = `
                        <div class="test-case-header">
                            <strong>Test Case ${index + 1}</strong>
                            <button class="run-button" onclick="runTestCase(${index})">
                                <i class="fas fa-play"></i>
                                Run
                            </button>
                        </div>
                        <div class="test-case-content">
                            <div>Input:</div>
                            <pre>${testCase.input}</pre>
                            <div>Expected Output:</div>
                            <pre>${testCase.expectedOutput}</pre>
                        </div>
                    `;
                    testCasesList.appendChild(testCaseElement);
                });
            }

            async function runTestCase(index) {
                const code = codeArea.value;
                const problem = problems[problemSelector.value];
                const testCase = problem.testCases[index];
                
                outputArea.innerHTML = `Running Test Case ${index + 1}...\n\n`;
                const result = await verifyTestCase(code, testCase.input, testCase.expectedOutput);
                
                if (result.passed) {
                    outputArea.innerHTML += `✅ Test Case ${index + 1} Passed\n`;
                } else {
                    outputArea.innerHTML += `❌ Test Case ${index + 1} Failed\n`;
                    outputArea.innerHTML += `Expected: ${testCase.expectedOutput}\n`;
                    outputArea.innerHTML += `Got: ${result.actual || ''}\n`;
                    if (result.error) {
                        outputArea.innerHTML += `Error: ${result.error}\n`;
                    }
                }
            }

            // Show/hide input section
            showInput.addEventListener('change', () => {
                inputSection.style.display = showInput.checked ? 'block' : 'none';
            });

            // Update problem content when selected
            problemSelector.addEventListener('change', () => {
                const problem = problems[problemSelector.value];
                problemTitle.textContent = problem.title;
                problemDescription.textContent = problem.description;
                sampleIO.innerHTML = `
                    <strong>Sample Input:</strong><br>
                    ${problem.testCases[0].input.split('\n').join('<br>')}<br><br>
                    <strong>Expected Output:</strong><br>
                    ${problem.testCases[0].expectedOutput}
                `;
                codeArea.value = `# ${problem.title}\n# ${problem.description}\n\n# Write your code here\n\n`;
                outputArea.innerHTML = '';
                inputArea.value = '';
                updateTestCases();
            });

            // Initialize with first problem
            problemSelector.dispatchEvent(new Event('change'));

            // Run code with custom input
            async function runCodeWithInput() {
                const code = codeArea.value;
                const input = inputArea.value;
                
                outputArea.innerHTML = 'Running code...\n\n';
                const result = simulateCodeExecution(code, input);
                outputArea.innerHTML += `Output:\n${result}\n`;
            }

            // Run code with example input
            async function runCode() {
                const code = codeArea.value;
                const problem = problems[problemSelector.value];
                const input = problem.testCases[0].input;
                
                outputArea.innerHTML = 'Running code...\n\n';
                const result = simulateCodeExecution(code, input);
                outputArea.innerHTML += `Output:\n${result}\n`;
            }

            // Make functions globally available
            window.verifyAllTestCases = verifyAllTestCases;
            window.showSolution = showSolution;
            window.closeSolution = closeSolution;
            window.runTestCase = runTestCase;
            window.runCode = runCode;
            window.runCodeWithInput = runCodeWithInput;
        });
    </script>
</body>
</html>

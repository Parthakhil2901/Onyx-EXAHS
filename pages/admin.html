<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOB Verse - Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="dark-mode">
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span>JOB</span>Verse
                </div>
                <button id="sidebarToggle" class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn active" data-section="employees">
                    <i class="fas fa-users"></i>
                    <span>Employee Details</span>
                </button>
                <button class="nav-btn" data-section="timesheet">
                    <i class="fas fa-clock"></i>
                    <span>Timesheet</span>
                </button>
                <button class="nav-btn" data-section="payroll">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Payroll</span>
                </button>
                <button class="nav-btn" data-section="tasks">
                    <i class="fas fa-tasks"></i>
                    <span>Task Management</span>
                </button>
            </div>
            <div class="user-section">
                <span id="userEmail"></span>
                <button id="logoutBtn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Employee Details Section -->
            <div id="employees" class="content-section active">
                <h1>Employee Details</h1>
                <div class="search-bar">
                    <input type="text" id="employeeSearch" placeholder="Search employees...">
                    <button class="add-employee-btn">
                        <i class="fas fa-plus"></i> Add Employee
                    </button>
                </div>
                <div class="employee-list">
                    <!-- Employee list will be populated dynamically -->
                </div>
            </div>

            <!-- Timesheet Section -->
            <div id="timesheet" class="content-section">
                <h1>Timesheet Management</h1>
                <div class="timesheet-filters">
                    <select id="employeeFilter">
                        <option value="">All Employees</option>
                    </select>
                    <input type="date" id="dateFilter">
                </div>
                <div class="timesheet-table">
                    <!-- Timesheet data will be populated dynamically -->
                </div>
            </div>

            <!-- Payroll Section -->
            <div id="payroll" class="content-section">
                <h1>Payroll Management</h1>
                <div class="payroll-filters">
                    <select id="monthFilter">
                        <option value="">Select Month</option>
                    </select>
                    <select id="yearFilter">
                        <option value="">Select Year</option>
                    </select>
                    <button class="generate-payroll-btn">
                        <i class="fas fa-file-invoice-dollar"></i> Generate Payroll
                    </button>
                </div>
                <div class="payroll-summary">
                    <!-- Payroll summary will be populated dynamically -->
                </div>
            </div>

            <!-- Task Management Section -->
            <div id="tasks" class="content-section">
                <h1>Task Management</h1>
                <div class="task-management-container">
                    <div class="task-form">
                        <h2>Assign New Task</h2>
                        <form id="taskForm">
                            <div class="form-group">
                                <label for="taskUserSelect">Select User:</label>
                                <select id="taskUserSelect" required>
                                    <option value="">Select User</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="taskName">Task Name:</label>
                                <input type="text" id="taskName" required>
                            </div>
                            <div class="form-group">
                                <label for="taskDescription">Description:</label>
                                <textarea id="taskDescription" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="taskPriority">Priority:</label>
                                <select id="taskPriority" required>
                                    <option value="Low">Low</option>
                                    <option value="Medium">Medium</option>
                                    <option value="High">High</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="taskDeadline">Deadline:</label>
                                <input type="date" id="taskDeadline" required>
                            </div>
                            <div class="form-group">
                                <label for="starterFile">
                                    <i class="fas fa-upload"></i> Upload Starter File (Optional)
                                </label>
                                <input type="file" id="starterFile" style="display: none;">
                            </div>
                            <button type="submit" class="assign-task-btn">
                                <i class="fas fa-plus"></i> Assign Task
                            </button>
                        </form>
                    </div>
                    <div class="task-list">
                        <h2>Assigned Tasks</h2>
                        <div class="task-filters">
                            <select id="userFilter">
                                <option value="">All Users</option>
                            </select>
                            <select id="statusFilter">
                                <option value="">All Statuses</option>
                                <option value="Pending">Pending</option>
                                <option value="Submitted">Submitted</option>
                                <option value="Approved">Approved</option>
                                <option value="Rejected">Rejected</option>
                            </select>
                        </div>
                        <div class="tasks-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Task Name</th>
                                        <th>User</th>
                                        <th>Priority</th>
                                        <th>Deadline</th>
                                        <th>Status</th>
                                        <th>Submission</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="tasksTableBody">
                                    <!-- Tasks will be populated dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>

    <!-- Firebase Configuration -->
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyByE-IoxarDhlLKwLn4K1N3y0Swy2-hVxE",
            authDomain: "job-verse-c35ff.firebaseapp.com",
            databaseURL: "https://job-verse-c35ff-default-rtdb.firebaseio.com",
            projectId: "job-verse-c35ff",
            storageBucket: "job-verse-c35ff.firebasestorage.app",
            messagingSenderId: "313840143364",
            appId: "1:313840143364:web:7de4898b589edbff54b951",
            measurementId: "G-F1VGQ7ELLW"
        };

        try {
            firebase.initializeApp(firebaseConfig);
            const analytics = firebase.analytics();
            const auth = firebase.auth();
            const db = firebase.firestore();

            window.db = db;
            window.auth = auth;
            window.analytics = analytics;

            console.log('Firebase initialized successfully in admin dashboard');
        } catch (error) {
            console.error('Error initializing Firebase in admin dashboard:', error);
        }
    </script>
    <script src="admin.js"></script>
    <script src="test-data.js"></script>
</body>
</html>
